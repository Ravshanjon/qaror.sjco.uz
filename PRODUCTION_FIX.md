# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ - –§–∞–∑–∞ 1

## ‚ö†Ô∏è –ù–û–í–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø (2026-01-17)

### –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
–í–Ω–µ—Å–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
1. ‚úÖ **SQL Injection** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤ AJAX –ø–æ–∏—Å–∫–µ
2. ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∫–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ is_admin
3. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏ –∏–Ω–¥–µ–∫—Å—ã –ë–î
4. ‚úÖ **Rate Limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS –Ω–∞ AJAX endpoint
5. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Å–æ–∑–¥–∞–Ω .env.production.example

---

### –°–†–û–ß–ù–û: –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

#### –®–∞–≥ 1: –ë—ç–∫–∞–ø –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www/qaror.sjco.uz
mysqldump -u root -p qaror_db_dev > backup_$(date +%Y%m%d_%H%M%S).sql
cp .env .env.backup
```

#### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
```bash
git pull origin main
```

#### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã
php artisan migrate --pretend

# –ï—Å–ª–∏ –≤—Å–µ –æ–∫ - –∑–∞–ø—É—Å—Ç–∏—Ç—å
php artisan migrate --force
```

**–ù–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
- `add_is_admin_to_users_table.php` - –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ is_admin
- `add_indexes_to_qarors_table.php` - –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å is_admin –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–¥–º–∏–Ω–æ–≤
```bash
php artisan tinker

# –í –∫–æ–Ω—Å–æ–ª–∏:
$users = App\Models\User::all();
foreach($users as $user) {
    $user->is_admin = true;
    $user->save();
}
exit
```

#### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç—å .env –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `.env.production.example` –≤ –≤–∞—à `.env`:

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø:**
```env
APP_DEBUG=false                 # –ë—ã–ª–æ: true
APP_ENV=production              # –ë—ã–ª–æ: local
SESSION_ENCRYPT=true            # –ë—ã–ª–æ: false
QUEUE_CONNECTION=database       # –ë—ã–ª–æ: sync
LOG_STACK=daily                 # –ë—ã–ª–æ: single
LOG_LEVEL=error                 # –ë—ã–ª–æ: debug
DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å          # –ë—ã–ª–æ: –ø—É—Å—Ç–æ
```

#### –®–∞–≥ 6: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à–∏
```bash
php artisan optimize:clear
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

#### –®–∞–≥ 7: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
```bash
sudo systemctl restart nginx
sudo systemctl restart php8.2-fpm
```

---

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:**
1. ‚úÖ AJAX –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç: https://qaror.sjco.uz/qarorlar/ajax-search?q=test
2. ‚úÖ –ù–µ-–∞–¥–º–∏–Ω—ã –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ `/admin`
3. ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é
4. ‚úÖ APP_DEBUG=false (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø—É–±–ª–∏—á–Ω–æ)
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f storage/logs/laravel.log`

---

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - –§–∞–∑–∞ 2

## ‚ö° –í–ê–ñ–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò (2026-01-18)

### –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
–í–Ω–µ—Å–µ–Ω—ã –≤–∞–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞:
1. ‚úÖ **N+1 –∑–∞–ø—Ä–æ—Å—ã** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ Livewire —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - —É–¥–∞–ª–µ–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è orderBy
3. ‚úÖ **–ú–µ—Ä—Ç–≤—ã–π –∫–æ–¥** - —É–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –º–µ—Ç–æ–¥ generatePublishedId
4. ‚úÖ **–°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤** - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
5. ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç** - Excel –∏–º–ø–æ—Ä—Ç —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥–∏
6. ‚úÖ **Queue Worker** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Supervisor

---

### –î–µ–ø–ª–æ–π –§–∞–∑—ã 2 –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

#### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
```bash
cd /var/www/qaror.sjco.uz
git pull origin main
```

#### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å .env (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `.env` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
```env
QUEUE_CONNECTION=database  # –î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
```

#### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Queue Worker —á–µ—Ä–µ–∑ Supervisor
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo cp supervisor-queue.conf /etc/supervisor/conf.d/qaror-queue-worker.conf

# –û–±–Ω–æ–≤–∏—Ç—å supervisor
sudo supervisorctl reread
sudo supervisorctl update

# –ó–∞–ø—É—Å—Ç–∏—Ç—å worker
sudo supervisorctl start qaror-queue-worker:*

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo supervisorctl status
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ:**
- Worker –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 1 –∑–∞–¥–∞—á—É –∑–∞ —Ä–∞–∑
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 1 —á–∞—Å
- 3 –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –õ–æ–≥–∏: `/var/www/qaror.sjco.uz/storage/logs/queue-worker.log`

#### –®–∞–≥ 4: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à–∏
```bash
php artisan optimize:clear
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

#### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
```bash
sudo systemctl restart nginx
sudo systemctl restart php8.2-fpm
```

---

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –§–∞–∑—ã 2

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:**

1. ‚úÖ **Queue Worker —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
sudo supervisorctl status qaror-queue-worker:*
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: RUNNING
```

2. ‚úÖ **Excel –∏–º–ø–æ—Ä—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ Excel —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: "Import jarayoni boshlandi! Qarorlar tez orada qo'shiladi."
   - –ò–º–ø–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –≤ —Ñ–æ–Ω–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f storage/logs/queue-worker.log`

3. ‚úÖ **–°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π PDF –¥–æ–∫—É–º–µ–Ω—Ç
   - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
   - –ö–æ–ª–æ–Ω–∫–∞ `views` –≤ –ë–î –¥–æ–ª–∂–Ω–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è

4. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞:**
   - –§–∏–ª—å—Ç—Ä –ø–æ –≥–æ–¥–∞–º –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - –ù–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ª–æ–≥–∞—Ö

5. ‚úÖ **–û—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥–∏
php artisan queue:work --once
# –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ jobs
```

---

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Queue Worker

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
sudo supervisorctl status qaror-queue-worker:*

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ worker
sudo supervisorctl stop qaror-queue-worker:*

# –ó–∞–ø—É—Å–∫ worker
sudo supervisorctl start qaror-queue-worker:*

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ worker (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞)
sudo supervisorctl restart qaror-queue-worker:*

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /var/www/qaror.sjco.uz/storage/logs/queue-worker.log

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á
php artisan queue:flush
```

---

### –û—Ç–∫–∞—Ç –§–∞–∑—ã 2 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å queue worker:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å worker
sudo supervisorctl stop qaror-queue-worker:*

# 2. –ò–∑–º–µ–Ω–∏—Ç—å –≤ .env
QUEUE_CONNECTION=sync  # –í–µ—Ä–Ω—É—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º

# 3. –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
php artisan config:clear
php artisan config:cache

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
sudo systemctl restart php8.2-fpm
```

–ò–º–ø–æ—Ä—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–±–ª–æ–∫–∏—Ä—É—é—â–µ), –Ω–æ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.

---

# –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ - –§–∞–∑–∞ 3

## üîí –ö–ê–ß–ï–°–¢–í–û –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (2026-01-18)

### –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
–í–Ω–µ—Å–µ–Ω—ã —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
1. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è Excel –∏–º–ø–æ—Ä—Ç–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
2. ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è down()** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –æ—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ views
3. ‚úÖ **Security Headers** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞—â–∏—Ç–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
4. ‚úÖ **CSP (Content Security Policy)** - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫
5. ‚úÖ **HSTS** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTPS

---

### –î–µ–ø–ª–æ–π –§–∞–∑—ã 3 –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

#### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
```bash
cd /var/www/qaror.sjco.uz
git pull origin main
```

#### –®–∞–≥ 2: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à–∏
```bash
php artisan optimize:clear
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

**–í–∞–∂–Ω–æ:** –ú–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è –§–∞–∑—ã 3 –Ω–µ—Ç - —Ç–æ–ª—å–∫–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏ down() –º–µ—Ç–æ–¥–∞.

#### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
```bash
sudo systemctl restart nginx
sudo systemctl restart php8.2-fpm
```

---

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –§–∞–∑—ã 3

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:**

1. ‚úÖ **Security Headers —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏
curl -I https://qaror.sjco.uz

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# X-Frame-Options: SAMEORIGIN
# X-Content-Type-Options: nosniff
# X-XSS-Protection: 1; mode=block
# Strict-Transport-Security: max-age=31536000; includeSubDomains
# Content-Security-Policy: ...
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12 ‚Üí Network ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å ‚Üí Headers ‚Üí Response Headers).

2. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è Excel –∏–º–ø–æ—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å Excel —Ñ–∞–π–ª —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å—Å—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f storage/logs/laravel.log`
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏: "Excel import row validation failed"

3. ‚úÖ **–û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ dev!):**
```bash
# –ù–ï –ó–ê–ü–£–°–ö–ê–¢–¨ –ù–ê –ü–†–û–î–ê–ö–®–ï–ù–ï!
# –¢–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
php artisan migrate:rollback --step=1
php artisan migrate
```

---

### –î–µ—Ç–∞–ª–∏ Security Headers

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫:**

- **X-Frame-Options: SAMEORIGIN** - –∑–∞—â–∏—Ç–∞ –æ—Ç clickjacking (iframe –∞—Ç–∞–∫–∏)
- **X-Content-Type-Options: nosniff** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç MIME type sniffing
- **X-XSS-Protection: 1; mode=block** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –±—Ä–∞—É–∑–µ—Ä–∞ –æ—Ç XSS
- **Referrer-Policy** - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–¥–∞—á–∏ referrer –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **Permissions-Policy** - –∑–∞–ø—Ä–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏, –º–∏–∫—Ä–æ—Ñ–æ–Ω—É, –∫–∞–º–µ—Ä–µ
- **Strict-Transport-Security (HSTS)** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ HTTPS
- **Content-Security-Policy (CSP)** - –∫–æ–Ω—Ç—Ä–æ–ª—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ CSP:**

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–∫—Ä–∏–ø—Ç–æ–≤/—Å—Ç–∏–ª–µ–π/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `app/Http/Middleware/SecurityHeaders.php:30-36`:

```php
$csp = [
    "default-src 'self'",
    "script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://–≤–∞—à-cdn.com",
    "style-src 'self' 'unsafe-inline' https://fonts.googleapis.com",
    "img-src 'self' data: https:",
    // –î–æ–±–∞–≤—å—Ç–µ –Ω—É–∂–Ω—ã–µ –¥–æ–º–µ–Ω—ã
];
```

---

### –í–∞–ª–∏–¥–∞—Ü–∏—è Excel –∏–º–ø–æ—Ä—Ç–∞

**–ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ `app/Imports/QarorlarImport.php:19-24`:**

```php
'number' => 'required|string|max:50',        // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞–∫—Å 50 —Å–∏–º–≤–æ–ª–æ–≤
'title' => 'required|string|max:500',        // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞–∫—Å 500 —Å–∏–º–≤–æ–ª–æ–≤
'created_date' => 'nullable|date',           // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–∞—Ç–∞
'pdf_path' => 'nullable|string|max:255',     // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ **–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è** (–Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç –∏–º–ø–æ—Ä—Ç)
- –û—à–∏–±–∫–∏ **–ª–æ–≥–∏—Ä—É—é—Ç—Å—è** –≤ `storage/logs/laravel.log`
- –í–∞–ª–∏–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ **–∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ**

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ:**
```
[2026-01-18 12:00:00] local.WARNING: Excel import row validation failed
{
  "row": {"number": "", "title": "Some title", ...},
  "errors": {"number": ["The number field is required."]}
}
```

---

### –û—Ç–∫–∞—Ç –§–∞–∑—ã 3 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å Security Headers:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å SecurityHeaders**

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `bootstrap/app.php`:
```php
->withMiddleware(function (Middleware $middleware): void {
    // –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ SecurityHeaders
    // $middleware->web(append: [
    //     SecurityHeaders::class,
    // ]);
})
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –°–º—è–≥—á–∏—Ç—å CSP**

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `app/Http/Middleware/SecurityHeaders.php` - –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–≥–∏–π CSP –Ω–∞ –±–æ–ª–µ–µ –º—è–≥–∫–∏–π:
```php
$csp = [
    "default-src *",  // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)
    "script-src * 'unsafe-inline' 'unsafe-eval'",
    "style-src * 'unsafe-inline'",
];
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
php artisan optimize:clear
sudo systemctl restart php8.2-fpm
```

---

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Method Not Allowed" (—Å—Ç–∞—Ä–∞—è –ø—Ä–æ–±–ª–µ–º–∞)

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (qaror.sjco.uz) –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
```
Method Not Allowed
The POST method is not supported for route admin/login. Supported methods: GET, HEAD.
```

## –ü—Ä–∏—á–∏–Ω–∞
1. –ë—ã–ª —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `app/Filament/Auth/CustomLogin.php` —Å –ø—É—Å—Ç—ã–º –º–µ—Ç–æ–¥–æ–º `getForms()`, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–º–∞–ª —Ñ–æ—Ä–º—É –ª–æ–≥–∏–Ω–∞
2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω —Å—Ç–∞—Ä—ã–π —Ä–æ—É—Ç–∏–Ω–≥

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
–§–∞–π–ª `app/Filament/Auth/CustomLogin.php` –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
git add .
git commit -m "Fix: Remove broken CustomLogin that caused Method Not Allowed error"
git push origin main
```

### –®–∞–≥ 2: –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/your/project

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# –û—á–∏—Å—Ç–∏—Ç—å –í–°–ï –∫–µ—à–∏ Laravel
php artisan optimize:clear

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
php artisan config:clear
php artisan route:clear
php artisan cache:clear
php artisan view:clear

# –û–±–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É Composer
composer dump-autoload

# –û–±–Ω–æ–≤–∏—Ç—å Filament –∞—Å—Å–µ—Ç—ã
php artisan filament:upgrade

# –ó–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã

```bash
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Laravel –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ storage –∏ cache
chmod -R 775 storage bootstrap/cache
chown -R www-data:www-data storage bootstrap/cache  # –∑–∞–º–µ–Ω–∏—Ç–µ www-data –Ω–∞ –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è web-—Å–µ—Ä–≤–µ—Ä–∞
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .htaccess —Ñ–∞–π–ª—ã

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å `.htaccess`:
```apache
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule>
```

–ò –≤ `public/.htaccess`:
```apache
<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ index.php [L]
</IfModule>
```

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã

```bash
# –î–ª—è Apache
sudo systemctl restart apache2

# –î–ª—è Nginx + PHP-FPM
sudo systemctl restart nginx
sudo systemctl restart php8.2-fpm  # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à—É –≤–µ—Ä—Å–∏—é PHP

# –î–ª—è –æ—á–µ—Ä–µ–¥–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
sudo systemctl restart queue-worker  # –∏–ª–∏ supervisorctl restart all
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:
- URL: https://qaror.sjco.uz/admin
- Email: admin@test.com
- Password: password

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ—É—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
php artisan route:list --path=admin/login
php artisan route:list --path=livewire
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- `GET|HEAD admin/login`
- `POST livewire/update` ‚úÖ –í–ê–ñ–ù–û!

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
tail -f storage/logs/laravel.log
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
```bash
# Apache
tail -f /var/log/apache2/error.log

# Nginx
tail -f /var/log/nginx/error.log
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SESSION –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ .env
```env
SESSION_DRIVER=database  # –∏–ª–∏ file
SESSION_SECURE_COOKIE=true  # –¥–ª—è HTTPS
SESSION_DOMAIN=.sjco.uz  # –∏–ª–∏ null
```

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `SESSION_DRIVER=database`, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `sessions` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
```bash
php artisan migrate
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í–°–ï–ì–î–ê –æ—á–∏—â–∞–π—Ç–µ –∫–µ—à** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–æ—É—Ç–∞—Ö –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `APP_DEBUG=true` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `APP_DEBUG=false`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `APP_ENV=production`
4. –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞ –º–æ–∂–Ω–æ —Å–Ω–æ–≤–∞ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ .env - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `php artisan config:clear`

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
php artisan tinker

# –í –∫–æ–Ω—Å–æ–ª–∏ Tinker:
$user = new App\Models\User();
$user->name = 'Your Name';
$user->email = 'your@email.com';
$user->password = bcrypt('your-secure-password');
$user->save();
exit
```
